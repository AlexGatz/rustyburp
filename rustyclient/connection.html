<!DOCTYPE html>
<html>

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <script type="text/javascript">
    function startProxy() {
      let IP = document.getElementById("ip").value;
      let PORT = document.getElementById("port").value;

      let data = { ip: IP, port: PORT };

      // May need to adjust the message display portion once wired to actual backend. 
      fetch('http://127.0.0.1:8080', { mode: 'no-cors', method: 'POST', body: JSON.stringify(data) }).then(message => {document.getElementById('response').innerHTML = JSON.stringify(message)}, error => {console.error(error)});
    }
  </script>
</head>

<body>

  <h2>Rusty Burp - A BurpSuite proxy written in rust!</h2>

  <form action="">
    <label for="fname">Proxy IP:</label><br>
    <input type="text" id="ip" name="ip" value="127.0.0.1"><br>
    <label for="lname">Proxy Port:</label><br>
    <input type="text" id="port" name="port" value="8080"><br><br>
    <input type="button" onclick="startProxy()" value="Start Proxy">
  </form>

  <p id="response"></p>

</body>

</html>